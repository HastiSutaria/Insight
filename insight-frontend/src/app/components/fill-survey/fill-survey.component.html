<div class="container w-75 p-5">
  <form
    class="form-control p-3"
    #surveyForm="ngForm"
    (ngSubmit)="onSubmitSurveyForm(surveyForm)"
    id="surveyForm"
  >
    <div class="form-group">
      <label for="email">Enter Your email</label>
    </div>
    <div *ngFor="let input of questions; let i = index">
      <div *ngIf="input.type === 'paragraph'" class="form-group">
        <label for="paragraph{{ i }}">{{ input.label }}</label>

        <input
          class="form-control"
          placeholder="Enter Your email address"
          name="email"
          id="email"
          ngModel
          email
          required
          #email="ngModel"
        />
        <span *ngIf="!email.valid && email.touched" class="help-block"
          >Please enter valid email</span
        >
      </div>
      <div *ngFor="let input of questions; let i = index">
        <div *ngIf="input.type === 'paragraph'" class="form-group">
          <label for="paragraph{{ i }}">{{ input.label }}</label>
          <input
            class="form-control"
            type="text"
            placeholder="Enter response"
            name="question{{ i }}"
            ngModel
            required
          />
        </div>

        <div *ngIf="input.type === 'date'" class="form-group">
          <label for="checkboxQuestion{{ i }}">{{ input.label }}</label>
          <!-- <span>
          <input class="form-control" matInput [matDatepicker]="picker" />
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </span> -->
          <mat-form-field appearance="outline">
            <input
              matInput
              formControlName="{{ input.label }}"
              [matDatepicker]="releasedAtPicker"
              (click)="releasedAtPicker.open()"
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="releasedAtPicker"
            ></mat-datepicker-toggle>
            <mat-datepicker #releasedAtPicker></mat-datepicker>
          </mat-form-field>
          <!-- <mat-form-field appearance="fill">
          <mat-label>Choose a date</mat-label>
          <input matInput [matDatepicker]="picker">
          <mat-hint>MM/DD/YYYY</mat-hint>
          <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field> -->
        </div>

        <div *ngIf="input.type === 'radio'">
          <label for="radioButtonQuestion">{{ input.label }}</label>

          <div *ngFor="let option of input.options; let z = index">
            <div class="radio">
              <label for="radioButtonOption{{ z }}"
                ><input
                  type="radio"
                  name="optradio"
                  id="radioButtonOption{{ z }}"
                  value="{{ option }}"
                  ngModel
                  required
                />{{ option }}</label
              >
            </div>
          </div>
        </div>
        <div *ngIf="input.type === 'select'">
          <label for="selectInputQuestion">{{ input.label }}</label>
          <select
            name="SelectInput"
            class="form-control"
            id="selectInputQuestion"
            ngModel
            required
            #select="ngModel"
          >
            <option selected>Select Type of Input</option>
            <option *ngFor="let option of input.options" value="{{ option }}">
              {{ option }}
            </option>
          </select>
          <span *ngIf="!select.valid && select.touched" class="help-block"
            >Please enter valid Response</span
          >
        </div>
      </div>
      <button
        [disabled]="!surveyForm.valid"
        type="submit"
        class="btn btn-primary"
      >
        Save
      </button>
    </div>
  </form>
</div>
